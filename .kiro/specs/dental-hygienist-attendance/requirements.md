# 要件書

## はじめに

歯科衛生士に特化した月間勤怠システムは、歯科衛生士の患者訪問記録を効率的に管理し、月間の訪問実績を追跡するためのシステムです。このシステムにより、患者ごとの訪問履歴と歯科衛生士の勤務実績を一元管理できます。

## 要件

### 要件 1

**ユーザーストーリー:** 管理者として、患者情報を登録・管理したいので、患者マスタ機能が必要です

#### 受入基準

1. WHEN 管理者が患者登録画面にアクセスする THEN システムは患者情報入力フォームを表示する
2. WHEN 管理者が患者名、患者ID、連絡先を入力して保存する THEN システムは患者情報をデータベースに保存する
3. WHEN 管理者が患者一覧画面にアクセスする THEN システムは登録済み患者の一覧を表示する
4. WHEN 管理者が既存患者情報を編集する THEN システムは更新された情報を保存する
5. WHEN 管理者が患者を削除する THEN システムは確認ダイアログを表示してから削除を実行する

### 要件 2

**ユーザーストーリー:** 管理者として、歯科衛生士の情報を登録・管理したいので、歯科衛生士マスタ機能が必要です

#### 受入基準

1. WHEN 管理者が歯科衛生士登録画面にアクセスする THEN システムは歯科衛生士情報入力フォームを表示する
2. WHEN 管理者が歯科衛生士名、スタッフID、資格情報を入力して保存する THEN システムは歯科衛生士情報をデータベースに保存する
3. WHEN 管理者が歯科衛生士一覧画面にアクセスする THEN システムは登録済み歯科衛生士の一覧を表示する
4. WHEN 管理者が既存歯科衛生士情報を編集する THEN システムは更新された情報を保存する
5. WHEN 管理者が歯科衛生士を削除する THEN システムは確認ダイアログを表示してから削除を実行する

### 要件 3

**ユーザーストーリー:** 歯科衛生士として、患者への訪問記録を入力したいので、訪問記録機能が必要です

#### 受入基準

1. WHEN 歯科衛生士が訪問記録画面にアクセスする THEN システムは月間カレンダー形式の入力画面を表示する
2. WHEN 歯科衛生士が特定の日付と患者を選択する THEN システムは訪問時間入力フォームを表示する
3. WHEN 歯科衛生士が開始時間と終了時間を入力する THEN システムは訪問記録をデータベースに保存する
4. WHEN 歯科衛生士が訪問できなかった場合に理由を入力する THEN システムは理由と共に記録を保存する
5. WHEN 歯科衛生士が予定を事前に入力する THEN システムは予定として記録を保存する

### 要件 4

**ユーザーストーリー:** 管理者として、患者ごとの月間訪問回数を確認したいので、患者別訪問統計機能が必要です

#### 受入基準

1. WHEN 管理者が患者別統計画面にアクセスする THEN システムは患者一覧と月選択機能を表示する
2. WHEN 管理者が特定の患者と月を選択する THEN システムは該当患者の月間訪問回数を表示する
3. WHEN 管理者が患者別月間レポートを表示する THEN システムは訪問日時、担当歯科衛生士、訪問時間を含む詳細を表示する
4. WHEN 管理者が複数患者の訪問回数を比較する THEN システムは患者別訪問回数の一覧表を表示する
5. WHEN 管理者がレポートをエクスポートする THEN システムはCSV形式でデータをダウンロード可能にする

### 要件 5

**ユーザーストーリー:** 管理者として、歯科衛生士の月間訪問回数を確認したいので、歯科衛生士別訪問統計機能が必要です

#### 受入基準

1. WHEN 管理者が歯科衛生士別統計画面にアクセスする THEN システムは歯科衛生士一覧と月選択機能を表示する
2. WHEN 管理者が特定の歯科衛生士と月を選択する THEN システムは該当歯科衛生士の月間訪問回数を表示する
3. WHEN 管理者が歯科衛生士別月間レポートを表示する THEN システムは訪問日時、担当患者、訪問時間を含む詳細を表示する
4. WHEN 管理者が複数歯科衛生士の訪問回数を比較する THEN システムは歯科衛生士別訪問回数の一覧表を表示する
5. WHEN 管理者が勤務実績をエクスポートする THEN システムはCSV形式でデータをダウンロード可能にする

### 要件 6

**ユーザーストーリー:** ユーザーとして、システムに安全にアクセスしたいので、認証機能が必要です

#### 受入基準

1. WHEN ユーザーがシステムにアクセスする THEN システムはログイン画面を表示する
2. WHEN ユーザーが正しい認証情報を入力する THEN システムはメインダッシュボードにリダイレクトする
3. WHEN ユーザーが間違った認証情報を入力する THEN システムはエラーメッセージを表示する
4. WHEN ユーザーがログアウトする THEN システムはセッションを終了してログイン画面に戻る
5. WHEN セッションが期限切れになる THEN システムは自動的にログアウトしてログイン画面に戻る